# 区块链钱包面试题目


## 1.描述一下交易钱包的充值和提现流程

### 充值

- 交易所给用户提供地址，用户把钱转进来
- 扫链：获取最新块高，从上一次解析的块开始到最新块高进行交易解析
- 交易解析完之后，如果交易里面 to 是系统用户，则是充值，解析完成之后上账，并通知业务层

### 提现

- 获取需要的签名参数
- 交易离线签名：组织交易，生成待签名消息摘要，将待签名的消息摘要递给签名机进行签名，签名机签名完成之后返回签名串
- 构建完整的交易并发送区块链网络，将签名时计算出来的交易 Hash 或者发送交易时返回交易 Hash 更新到数据库
- 扫链解析到这笔交易，说明提现成功。


## 2.HD 钱包助记词生成的流程

- 第一步：随机熵生成
- 第二步：计算校验和
- 第三步：组合熵和校验和
- 第四步：分割助记词索引
- 第五步：映射为助记词

## 3.助记词的验证过程

- 第一步：检查助记词数量
- 第二步：检查助记词是否在词汇表
- 第三步：将助记词转换成索引
- 第四步：提取种子的校验和
- 第五步：计算校验和
- 第六步：验证校验和


## 4.BIP44 路径

'''
m/44'/coin_type'/account'/change/address_index
'''

## 5.门限共享秘密拆分过程

秘密-----> n 份，k 份可恢复， 任意 k 份恢复出这个秘密，分别用门限共享算法和逆门限共享秘密算法


## 5.MPC GG20 算法 Keygen 和 Sign 分别需要经过多少轮共识

- Keygen: 4 轮
- Sign: 7 轮

## 6.为什么 schnorr 比特币手续费可以降低

schnorr 签名聚合成一个签名，还有短密钥，这样签名的数据会比 ECDSA 短很多，所以相对于 ECDSA 签名的交易会便宜很多


## 6. 为什么比特币早期时候不直接用 schnorr 签名算法

因为当时 schnorr 算法在专利期


## 6. 相比较之下 EDDSA 性能，安全性都会高一些，为什么比特币以太坊用了 ECDSA，没有用 EDDSA

- ECDSA 是基于更早的标准（如 FIPS 186-4 和 ANSI X9.62）发展的，因此在密码学界和工业界有较长的使用历史和广泛的标准化支持。它被大量系统和协议（如 TLS 和 Bitcoin）采用，形成了一个庞大的生态系统。
- 虽然 EdDSA 有一些优势，如不容易受到侧信道攻击的影响（如时间攻击和缓存攻击），但 ECDSA 的安全性也已经过广泛的研究和验证。对于很多开发者和企业来说，使用一个已被长期验证的算法是更为保守和安全的选择。
- EdDSA 通常具有更高的签名速度和较快的验证速度，尤其是在大多数软件实现中。然而，对于已经高度优化的 ECDSA 实现，性能差异在许多应用中可能并不明显。
- EdDSA 的设计更为简单且更不易出错，特别是在处理随机数生成等方面。然而，ECDSA 由于使用历史更长，开发者更为熟悉其使用和管理。





  
